import{w as y,a as o,v as N,p as e}from"./chunk-UH6JLGW7-DB7KfY1H.js";import{C as b,d as k}from"./card-CF0P5cGQ.js";import{B as n}from"./button-DQc83rjE.js";import{I as x}from"./input-FauOGYKd.js";import{S as w,a as S,b as C,c as I,d}from"./select-xCTCY9o9.js";import{m}from"./api-Cr5uWYEN.js";import{H as M}from"./Header-DGBBqV3K.js";import{c as A}from"./createLucideIcon-DlhUvwdl.js";import{X as D}from"./Combination-Dov-rLQ-.js";import"./index-C5gdAslh.js";import"./index-BZlCCt0w.js";import"./chevron-up-BUQweAlY.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],V=A("trash-2",P),G=y(function(){const[h,l]=o.useState([]),[g,i]=o.useState(!1),[s,c]=o.useState({name:"",price:"",category:"",image:null}),p=async()=>{try{const a=await m.getAdmin();l(a)}catch(a){console.error(a)}};o.useEffect(()=>{p()},[]);const u=async()=>{try{const a=new FormData;a.append("name",s.name),a.append("price",s.price),a.append("category",s.category),s.image&&a.append("image",s.image);const t=await m.create(a);l(r=>[...r,t]),c({name:"",price:"",category:"",image:null}),i(!1)}catch(a){console.error(a)}},j=async a=>{try{await m.toggleAvailability(a.toString()),l(t=>t.map(r=>r.id===a?{...r,isAvailable:!r.isAvailable}:r))}catch(t){console.error(t)}},f=async a=>{try{await m.delete(a.toString()),l(t=>t.filter(r=>r.id!==a))}catch(t){console.error(t)}},v=N();return e.jsxs("div",{className:"min-h-screen flex bg-gray-100",children:[e.jsx(M,{navigate:v}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"🍔 Menu Management"}),e.jsx(n,{onClick:()=>i(!0),children:"Add Item"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:h.map(a=>e.jsx(b,{className:"relative",children:e.jsxs(k,{children:[e.jsx("img",{src:a.image,alt:a.name,className:"w-full h-40 object-cover rounded-md mb-4"}),e.jsx("h3",{className:"font-bold text-lg",children:a.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Category: ",a.category]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Price: $",a.price.toFixed(2)]}),e.jsx("p",{className:`text-sm font-medium ${a.isAvailable?"text-green-600":"text-red-600"}`,children:a.isAvailable?"In Stock":"Out of Stock"}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx(n,{size:"sm",onClick:()=>j(a.id),children:a.isAvailable?"Mark Out of Stock":"Mark In Stock"}),e.jsx(n,{size:"sm",variant:"destructive",onClick:()=>f(a.id),children:e.jsx(V,{className:"w-4 h-4"})})]})]})},a.id))}),g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Add New Menu Item"}),e.jsx("button",{onClick:()=>i(!1),children:e.jsx(D,{className:"w-6 h-6 text-gray-500"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(x,{placeholder:"Item Name",value:s.name,onChange:a=>c({...s,name:a.target.value})}),e.jsx(x,{placeholder:"Price",type:"number",value:s.price,onChange:a=>c({...s,price:a.target.value})}),e.jsx(x,{type:"file",onChange:a=>{var t;return c({...s,image:((t=a.target.files)==null?void 0:t[0])||null})}}),e.jsxs(w,{value:s.category,onValueChange:a=>c({...s,category:a}),children:[e.jsx(S,{children:e.jsx(C,{placeholder:"Select Category"})}),e.jsxs(I,{children:[e.jsx(d,{value:"Starter",children:"Starter"}),e.jsx(d,{value:"Main",children:"Main"}),e.jsx(d,{value:"Dessert",children:"Dessert"}),e.jsx(d,{value:"Drink",children:"Drink"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(n,{variant:"secondary",onClick:()=>i(!1),children:"Cancel"}),e.jsx(n,{onClick:u,children:"Add Item"})]})]})]})})]})]})});export{G as default};
